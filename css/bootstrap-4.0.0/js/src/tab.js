import $ from"jquery";import Util from"./util";const Tab=(t=>{const e="bs.tab",a=t.fn.tab,n="hide.bs.tab",s="hidden.bs.tab",r="show.bs.tab",i="shown.bs.tab",o="click.bs.tab.data-api",l="active",d="show",c=".active",h="> li > .active";class m{constructor(t){this._element=t}static get VERSION(){return"4.0.0"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(l)||t(this._element).hasClass("disabled"))return;let e,a;const o=t(this._element).closest(".nav, .list-group")[0],d=Util.getSelectorFromElement(this._element);if(o){const e="UL"===o.nodeName?h:c;a=t.makeArray(t(o).find(e)),a=a[a.length-1]}const m=t.Event(n,{relatedTarget:this._element}),f=t.Event(r,{relatedTarget:a});if(a&&t(a).trigger(m),t(this._element).trigger(f),f.isDefaultPrevented()||m.isDefaultPrevented())return;d&&(e=t(d)[0]),this._activate(this._element,o);const u=()=>{const e=t.Event(s,{relatedTarget:this._element}),n=t.Event(i,{relatedTarget:a});t(a).trigger(e),t(this._element).trigger(n)};e?this._activate(e,e.parentNode,u):u()}dispose(){t.removeData(this._element,e),this._element=null}_activate(e,a,n){let s;s="UL"===a.nodeName?t(a).find(h):t(a).children(c);const r=s[0],i=n&&Util.supportsTransitionEnd()&&r&&t(r).hasClass("fade"),o=()=>this._transitionComplete(e,r,n);r&&i?t(r).one(Util.TRANSITION_END,o).emulateTransitionEnd(150):o()}_transitionComplete(e,a,n){if(a){t(a).removeClass("show "+l);const e=t(a.parentNode).find("> .dropdown-menu .active")[0];e&&t(e).removeClass(l),"tab"===a.getAttribute("role")&&a.setAttribute("aria-selected",!1)}if(t(e).addClass(l),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),Util.reflow(e),t(e).addClass(d),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){const a=t(e).closest(".dropdown")[0];a&&t(a).find(".dropdown-toggle").addClass(l),e.setAttribute("aria-expanded",!0)}n&&n()}static _jQueryInterface(a){return this.each((function(){const n=t(this);let s=n.data(e);if(s||(s=new m(this),n.data(e,s)),"string"==typeof a){if(void 0===s[a])throw new TypeError(`No method named "${a}"`);s[a]()}}))}}return t(document).on(o,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),m._jQueryInterface.call(t(this),"show")})),t.fn.tab=m._jQueryInterface,t.fn.tab.Constructor=m,t.fn.tab.noConflict=function(){return t.fn.tab=a,m._jQueryInterface},m})($);export default Tab;
